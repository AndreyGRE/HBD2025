import Guest from "./71-Guest";
import { useEffect, useState } from "react";

interface guest {
    image_url?: string;
    name?: string;
    text?: string;
    sort_order?: number;
}

function Guests() {
    const [guests, setGuests] = useState<guest[]>([]);
    useEffect(() => {
        fetch("https://devnewlk2.gwd.ru:5000/api/guests")
            .then((res) => res.json())
            .then((data) => {
                if (Array.isArray(data)) {
                    setGuests(data);
                } else {
                    console.error("Данные не являются массивом:", data);
                }
            })
            .catch((err) => {
                console.error("Ошибка при получении гостей:", err);
            });
    }, []);
    return (
        <div className="mt-[100px] xl:mt-[259px]  relative">
            <div className=" absolute -right-[20%] w-[1604px] h-[772px] rounded-[1604px] flex-shrink-0 rotate-[30deg] blur-[250px] custom-gradient-bg -z-10"></div>

            <div className="flex flex-col xl:gap-12 gap-0 relative">
                <div className="flex flex-col mb-[64px]">
                    <div className="gradient text-[32px] xl:text-[74px] font-[700] xl:ml-[207px] uppercase ml-[28px] mr-[24px]">
                        СПЕЦИАЛЬНЫЕ<br></br>ГОСТИ
                    </div>
                    <div className="absolute right-0 xl:-top-105 -top-55 opacity-35 xl:w-[444px] xl:h-[734px] w-[35%] h-[35%]">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 444 734"
                            fill="none"
                        >
                            <path
                                d="M460.139 12.4287C457.557 11.4048 454.904 10.5334 452.223 9.77946C418.744 0.36422 382.92 -0.868272 351.633 16.6986C311.394 39.2917 284.244 88.6389 268.685 130.541C263.342 144.932 258.856 166.184 254.959 181.442C248.625 206.238 242.266 230.205 235.262 254.825C234.702 255.499 234.241 256.143 233.572 256.696C240.074 233.282 246.328 209.812 252.146 186.217C256.755 167.526 260.648 148.508 266.944 130.294C281.656 87.7299 309.882 36.8963 350.25 14.1299C380.825 -3.11441 417.996 -3.05012 451.103 6.26161C480.92 14.648 499.146 29.6665 514.217 56.7157C535.111 94.2168 539.084 137.601 527.276 178.697C506.192 252.082 421.352 369.821 367.559 426.238C348.901 445.804 328.608 464.383 306.018 479.34L305.601 478.397C349.226 447.657 382.884 408.74 414.876 366.543C443.228 329.149 469.512 290.399 492.422 249.646C520.262 200.123 542.341 146.412 524.543 89.4904C516.32 62.1457 500.045 33.4849 474.444 18.5772C464.602 12.8457 449.103 15.9258 438.701 18.9919C463.443 40.169 480.468 72.5604 485.379 104.766C489.138 129.416 481.49 158.446 471.139 181.002C450.944 225.014 418.502 266.628 389.481 305.413L300.341 423.09L300.02 422.155L390.519 300.29C412.205 270.688 434.535 241.087 453.108 209.386C471.23 178.457 487.92 140.166 482.038 103.562C477.176 73.3057 459.674 39.0461 435.161 20.2946C386.278 41.103 364.681 95.2758 341.953 139.35C311.855 197.719 283.866 257.31 259.221 318.191C258.438 320.127 257.685 322.095 256.95 324.051C264.418 330.327 259.136 339.112 256.213 347.275C251.854 359.451 251.991 365.21 238.316 360.593C233.864 377.27 233.089 394.034 228.818 410.177L262.052 422.592C271.642 426.137 288.145 430.319 292.167 440.513C298.72 457.122 289.187 475.177 283.48 490.623C283.132 491.567 282.628 492.72 282.238 493.578L281.97 494.682C279.192 501.238 276.369 509.284 273.81 516.072L258.276 557.557L205.771 696.477C202.958 703.879 200.35 711.801 196.703 718.974C192.936 726.386 183.543 732.666 175.211 733.341C172.34 733.573 166.998 732.45 164.301 731.452C152.331 727.021 140.408 722.388 128.508 717.763L64.2622 692.78L33.8279 681.258C27.1893 678.793 19.9365 676.472 13.7174 673.164C3.98071 667.987 -2.09322 656.606 2.13101 645.871C10.9556 623.452 19.6838 601.045 28.614 578.691L69.5401 475.95L94.0837 414.058C97.8582 404.695 101.716 394.581 106.017 385.502C108.626 380.649 112.574 376.935 117.521 374.648C126.315 370.585 133.945 373.31 142.377 376.547C146.267 378.041 150.302 379.472 154.224 380.927L188.838 393.848C197.105 379.321 204.192 366.333 209.247 350.29C206.638 349.302 202.445 348.143 201.211 345.681C199.699 342.584 200.698 336.726 202.074 333.614C205.312 326.286 206.312 315.036 213.915 311.239L218.065 311.45C216.87 315.346 215.493 319.354 214.256 323.262C226.173 327.699 239.165 332.164 251.259 336.06C254.466 327.207 258.124 318.274 261.574 309.499C283.063 254.842 307.911 201.814 333.888 149.185L353.331 110.667C364.206 89.2862 374.202 69.404 390.158 51.0447C403.576 35.6057 420.295 21.1558 440.331 15.2903C446.801 13.396 453.469 12.9231 460.139 12.4287ZM256.042 327.007C253.869 331.842 253.264 335.654 251.686 340.629C250.155 345.457 248.169 350.712 246.226 355.384C233.133 350.954 219.708 345.375 206.551 341.501C208.079 336.735 215.109 318.299 214.954 315.229L214.469 314.634C212.037 315.212 211.143 317.787 210.333 319.942C208.773 324.433 202.161 341.204 203.681 343.389C206.449 347.368 240.853 358.489 245.597 359.854C246.887 359.168 247.814 358.727 248.984 357.821C251.416 352.13 253.585 345.938 255.676 340.09C257.173 335.905 259.774 330.594 256.042 327.007ZM213.924 325.329C212.261 330.281 210.615 335.297 208.895 340.225C220.82 343.089 232.951 347.477 244.462 351.691C245.957 350.567 249.023 340.895 249.882 338.451C238.084 334.719 225.552 329.765 213.924 325.329ZM212.104 351.308C207.717 363.392 202.688 375.671 196.079 386.722C186.983 401.929 172.541 424.967 198.065 433.423C201.445 434.552 204.589 434.972 208.116 434.099C231.168 424.45 228.669 380.616 235.765 359.646L212.104 351.308ZM139.008 378.637C131.821 376.143 126.117 374.059 118.436 377.407C114.167 379.267 109.797 383.88 107.882 388.139C103.176 398.612 98.8602 410.009 94.6004 420.671L67.6708 488.392L22.3498 602.865C16.5556 617.756 10.4128 632.468 4.88079 647.487C1.71495 656.084 6.58489 666.125 14.5519 670.076C22.0747 673.807 30.7411 676.741 38.6459 679.761L82.9996 696.741L136.827 717.81C146.746 721.706 157.047 725.681 167.07 729.305C172.174 731.15 178.715 730.313 183.537 727.747C193.691 722.343 196.889 711.542 200.631 701.479L207.058 684.123L266.437 526.917L281.261 487.872C286.918 473.253 300.89 445.017 281.446 433.808C276.319 430.853 268.219 428.312 262.478 426.184L227.871 413.312C224.903 421.339 223.519 424.244 218.246 430.899C223.409 432.683 229.079 433.82 231.717 439.045C235.627 446.789 228.576 455.142 220.365 453.751C216.458 453.023 212.219 450.74 208.451 449.438C192.524 442.814 176.177 437.26 160.275 430.597C156.908 429.263 154.739 427.465 153.318 424.132C151.262 419.312 154.282 412.259 159.544 411.258C165.91 410.047 174.722 415.392 180.791 417.472C181.724 408.286 182.759 404.713 186.993 396.438L139.008 378.637ZM162.407 413.674C160.015 414.116 157.544 414.647 156.341 416.991C154.813 419.966 156.208 425.616 159.423 427.021C177.387 434.871 196.135 441.227 214.399 448.399C217.309 449.542 221.212 451.339 224.259 450.661C225.6 450.339 227.121 449.121 228.07 448.132C233.837 438.413 222.609 435.813 215.631 433.45C203.128 442.419 185.381 434.767 180.859 420.682C176.093 418.72 167.104 414.765 162.407 413.674Z"
                                fill="url(#paint0_linear_3633_1178)"
                            />
                            <path
                                d="M235.262 254.825L225.329 288.116C223.253 295.032 220.449 304.758 217.829 311.439C218.265 307.435 219.775 302.986 220.965 299.086C225.268 284.997 229.199 270.759 233.572 256.696C234.241 256.143 234.702 255.499 235.262 254.825Z"
                                fill="url(#paint1_linear_3633_1178)"
                            />
                            <path
                                d="M300.341 423.09C298.686 425.34 293.738 432.121 291.885 433.634L291.999 433.459L291.588 433.987C294.138 430.169 297.138 425.693 300.02 422.155L300.341 423.09Z"
                                fill="url(#paint2_linear_3633_1178)"
                            />
                            <path
                                d="M282.238 493.578C288.937 489.911 299.048 482.792 305.601 478.397L306.018 479.34C301.161 482.568 286.499 492.615 281.97 494.682L282.238 493.578Z"
                                fill="url(#paint3_linear_3633_1178)"
                            />
                            <path
                                d="M152.886 549.667C134.374 544.177 123.822 524.713 129.319 506.199C134.816 487.683 154.28 477.131 172.789 482.631C191.292 488.128 201.835 507.586 196.34 526.094C190.846 544.603 171.392 555.156 152.886 549.667ZM170.947 485.165C153.725 480.642 136.112 491.005 131.695 508.257C127.278 525.511 137.746 543.061 155.023 547.367C172.147 551.636 189.507 541.276 193.884 524.175C198.262 507.075 188.016 489.648 170.947 485.165Z"
                                fill="url(#paint4_linear_3633_1178)"
                            />
                            <path
                                d="M178.268 674.427C191.615 632.604 184.361 573.246 135.818 557.784C126.567 554.838 114.409 552.443 105.352 557.441C84.6672 569.619 72.9238 594.349 62.4602 615.048C58.4028 623.424 54.2868 632.53 51.3085 641.271C47.9568 651.108 50.1489 661.063 59.9012 666.008C81.7635 677.095 106.773 684.758 129.655 693.335L125.541 692.74C109.64 686.906 93.5547 682.057 77.7066 675.609C60.0922 668.442 41.9658 663.345 50.0941 639.357C53.4488 629.458 57.7322 620.268 62.1967 610.818C72.4752 589.838 83.608 566.379 104.81 554.418C114.667 549.446 127.77 551.934 137.582 555.268C187.492 572.225 194.192 632.054 179.127 675.452L177.938 677.666C177.841 676.338 178.047 675.748 178.268 674.427Z"
                                fill="url(#paint5_linear_3633_1178)"
                            />
                            <path
                                d="M178.268 674.427C178.047 675.748 177.841 676.338 177.938 677.666L179.127 675.452C176.237 683.769 168.646 700.276 160.398 704.447C161.922 702.619 163.947 700.749 165.671 698.655C172.03 690.936 174.885 683.588 178.268 674.427Z"
                                fill="url(#paint6_linear_3633_1178)"
                            />
                            <path
                                d="M146.637 699.676C150.21 700.633 156.204 703.16 160.398 704.447C158.864 704.942 159.59 704.955 158.149 704.568C154.621 703.12 149.852 701.48 146.637 699.676Z"
                                fill="url(#paint7_linear_3633_1178)"
                            />
                            <path
                                d="M129.655 693.335C134.54 694.49 141.652 698.077 146.637 699.676C149.852 701.48 154.621 703.12 158.149 704.568C147.302 700.786 136.303 696.766 125.541 692.74L129.655 693.335Z"
                                fill="url(#paint8_linear_3633_1178)"
                            />
                            <defs>
                                <linearGradient
                                    id="paint0_linear_3633_1178"
                                    x1="1153.88"
                                    y1="-2448.08"
                                    x2="1802.45"
                                    y2="-2131.51"
                                    gradientUnits="userSpaceOnUse"
                                >
                                    <stop
                                        offset="0.128556"
                                        stop-color="#000023"
                                    />
                                    <stop
                                        offset="0.497073"
                                        stop-color="#7E82D7"
                                        stop-opacity="0.9"
                                    />
                                    <stop
                                        offset="0.870922"
                                        stop-color="#E95521"
                                    />
                                </linearGradient>
                                <linearGradient
                                    id="paint1_linear_3633_1178"
                                    x1="1153.88"
                                    y1="-2448.08"
                                    x2="1802.45"
                                    y2="-2131.51"
                                    gradientUnits="userSpaceOnUse"
                                >
                                    <stop
                                        offset="0.128556"
                                        stop-color="#000023"
                                    />
                                    <stop
                                        offset="0.497073"
                                        stop-color="#7E82D7"
                                        stop-opacity="0.9"
                                    />
                                    <stop
                                        offset="0.870922"
                                        stop-color="#E95521"
                                    />
                                </linearGradient>
                                <linearGradient
                                    id="paint2_linear_3633_1178"
                                    x1="1153.88"
                                    y1="-2448.08"
                                    x2="1802.45"
                                    y2="-2131.51"
                                    gradientUnits="userSpaceOnUse"
                                >
                                    <stop
                                        offset="0.128556"
                                        stop-color="#000023"
                                    />
                                    <stop
                                        offset="0.497073"
                                        stop-color="#7E82D7"
                                        stop-opacity="0.9"
                                    />
                                    <stop
                                        offset="0.870922"
                                        stop-color="#E95521"
                                    />
                                </linearGradient>
                                <linearGradient
                                    id="paint3_linear_3633_1178"
                                    x1="1153.88"
                                    y1="-2448.08"
                                    x2="1802.45"
                                    y2="-2131.51"
                                    gradientUnits="userSpaceOnUse"
                                >
                                    <stop
                                        offset="0.128556"
                                        stop-color="#000023"
                                    />
                                    <stop
                                        offset="0.497073"
                                        stop-color="#7E82D7"
                                        stop-opacity="0.9"
                                    />
                                    <stop
                                        offset="0.870922"
                                        stop-color="#E95521"
                                    />
                                </linearGradient>
                                <linearGradient
                                    id="paint4_linear_3633_1178"
                                    x1="1153.88"
                                    y1="-2448.08"
                                    x2="1802.45"
                                    y2="-2131.51"
                                    gradientUnits="userSpaceOnUse"
                                >
                                    <stop
                                        offset="0.128556"
                                        stop-color="#000023"
                                    />
                                    <stop
                                        offset="0.497073"
                                        stop-color="#7E82D7"
                                        stop-opacity="0.9"
                                    />
                                    <stop
                                        offset="0.870922"
                                        stop-color="#E95521"
                                    />
                                </linearGradient>
                                <linearGradient
                                    id="paint5_linear_3633_1178"
                                    x1="1153.88"
                                    y1="-2448.08"
                                    x2="1802.45"
                                    y2="-2131.51"
                                    gradientUnits="userSpaceOnUse"
                                >
                                    <stop
                                        offset="0.128556"
                                        stop-color="#000023"
                                    />
                                    <stop
                                        offset="0.497073"
                                        stop-color="#7E82D7"
                                        stop-opacity="0.9"
                                    />
                                    <stop
                                        offset="0.870922"
                                        stop-color="#E95521"
                                    />
                                </linearGradient>
                                <linearGradient
                                    id="paint6_linear_3633_1178"
                                    x1="1153.88"
                                    y1="-2448.08"
                                    x2="1802.45"
                                    y2="-2131.51"
                                    gradientUnits="userSpaceOnUse"
                                >
                                    <stop
                                        offset="0.128556"
                                        stop-color="#000023"
                                    />
                                    <stop
                                        offset="0.497073"
                                        stop-color="#7E82D7"
                                        stop-opacity="0.9"
                                    />
                                    <stop
                                        offset="0.870922"
                                        stop-color="#E95521"
                                    />
                                </linearGradient>
                                <linearGradient
                                    id="paint7_linear_3633_1178"
                                    x1="1153.88"
                                    y1="-2448.08"
                                    x2="1802.45"
                                    y2="-2131.51"
                                    gradientUnits="userSpaceOnUse"
                                >
                                    <stop
                                        offset="0.128556"
                                        stop-color="#000023"
                                    />
                                    <stop
                                        offset="0.497073"
                                        stop-color="#7E82D7"
                                        stop-opacity="0.9"
                                    />
                                    <stop
                                        offset="0.870922"
                                        stop-color="#E95521"
                                    />
                                </linearGradient>
                                <linearGradient
                                    id="paint8_linear_3633_1178"
                                    x1="1153.88"
                                    y1="-2448.08"
                                    x2="1802.45"
                                    y2="-2131.51"
                                    gradientUnits="userSpaceOnUse"
                                >
                                    <stop
                                        offset="0.128556"
                                        stop-color="#000023"
                                    />
                                    <stop
                                        offset="0.497073"
                                        stop-color="#7E82D7"
                                        stop-opacity="0.9"
                                    />
                                    <stop
                                        offset="0.870922"
                                        stop-color="#E95521"
                                    />
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                </div>
                <div className="flex flex-wrap xl:gap-x-40 gap-y-[26px] xl:gap-y-[32px] justify-center xl:items-center xl:pl-[57px] overflow-hidden">
                    {guests
                        .sort(
                            (a, b) => (a.sort_order ?? 0) - (b.sort_order ?? 0)
                        )
                        .map((guest, index) => {
                            return (
                                <Guest
                                    key={index}
                                    index={index}
                                    srcImg={guest.image_url}
                                    name={guest.name}
                                    text={guest.text}
                                />
                            );
                        })}
                </div>
            </div>
        </div>
    );
}

export default Guests;
